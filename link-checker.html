<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WanderWell - Link Checker</title>
    <link rel="icon" href="favicon.svg" type="image/svg+xml">
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1200px;
            margin: 20px auto;
            padding: 20px;
            line-height: 1.6;
        }
        .link-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        .link-section {
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 15px;
            background: #f9f9f9;
        }
        .link-item {
            margin: 10px 0;
            padding: 8px;
            background: white;
            border-radius: 4px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .link-item.valid {
            border-left: 4px solid #28a745;
        }
        .link-item.invalid {
            border-left: 4px solid #dc3545;
        }
        .link-item.external {
            border-left: 4px solid #007bff;
        }
        .status {
            font-weight: bold;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
        }
        .status.valid { background: #d4edda; color: #155724; }
        .status.invalid { background: #f8d7da; color: #721c24; }
        .status.external { background: #cce7ff; color: #004085; }
        .summary {
            background: #f0f0f0;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        .progress {
            width: 100%;
            height: 20px;
            background: #ddd;
            border-radius: 10px;
            overflow: hidden;
            margin: 10px 0;
        }
        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #8B4513, #CD853F);
            width: 0%;
            transition: width 0.3s ease;
        }
    </style>
</head>
<body>
    <h1>WanderWell - Link Checker</h1>
    <p>This tool checks all internal and external links in the WanderWell website for validity.</p>
    
    <div class="summary">
        <h2>Link Checking Progress</h2>
        <div class="progress">
            <div class="progress-bar" id="progressBar"></div>
        </div>
        <p id="progressText">Starting link check...</p>
        <p id="summary"></p>
    </div>
    
    <div class="link-grid" id="linkGrid">
        <!-- Link results will be populated here -->
    </div>

    <script>
        // Define all links to check with their expected status
        const linksToCheck = [
            // Internal pages
            { url: 'index.html', type: 'internal', description: 'Home Page' },
            { url: 'about.html', type: 'internal', description: 'About Page' },
            { url: 'contact.html', type: 'internal', description: 'Contact Page' },
            { url: 'privacy.html', type: 'internal', description: 'Privacy Policy' },
            { url: 'terms.html', type: 'internal', description: 'Terms of Service' },
            { url: 'check-images.html', type: 'internal', description: 'Image Checker' },
            
            // CSS and JS files
            { url: 'css/style.css', type: 'internal', description: 'Main Stylesheet' },
            { url: 'css/pages.css', type: 'internal', description: 'Pages Stylesheet' },
            { url: 'js/script.js', type: 'internal', description: 'Main JavaScript' },
            { url: 'js/articles.js', type: 'internal', description: 'Articles JavaScript' },
            { url: 'js/contact.js', type: 'internal', description: 'Contact JavaScript' },
            
            // Favicon
            { url: 'favicon.svg', type: 'internal', description: 'Website Favicon' },
            
            // Sample images
            { url: 'images/logo.png', type: 'internal', description: 'Website Logo' },
            { url: 'images/hero-vintage.jpg', type: 'internal', description: 'Hero Image' },
            { url: 'images/vintage-fashion.jpg', type: 'internal', description: 'Fashion Article Image' },
            { url: 'images/team-sarah.jpg', type: 'internal', description: 'Team Member Photo' },
            
            // External CDN links
            { url: 'https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Lora:wght@400;500;600&display=swap', type: 'external', description: 'Google Fonts' },
            { url: 'https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css', type: 'external', description: 'Font Awesome Icons' },
            
            // Social media links (these will show as external but may not be real accounts)
            { url: 'https://facebook.com/wanderwell', type: 'external', description: 'Facebook Page' },
            { url: 'https://instagram.com/wanderwell', type: 'external', description: 'Instagram Page' },
            { url: 'https://twitter.com/wanderwell', type: 'external', description: 'Twitter Page' },
            { url: 'https://pinterest.com/wanderwell', type: 'external', description: 'Pinterest Page' },
            { url: 'https://youtube.com/wanderwell', type: 'external', description: 'YouTube Channel' }
        ];

        let checkedCount = 0;
        let validCount = 0;
        let invalidCount = 0;
        let externalCount = 0;
        const totalCount = linksToCheck.length;

        function updateProgress() {
            const percentage = (checkedCount / totalCount) * 100;
            
            document.getElementById('progressBar').style.width = percentage + '%';
            document.getElementById('progressText').textContent = 
                `Checked ${checkedCount} of ${totalCount} links (${Math.round(percentage)}%)`;
            
            if (checkedCount === totalCount) {
                document.getElementById('summary').innerHTML = 
                    `<strong>Results:</strong> ${validCount} valid internal links, ${externalCount} external links, ${invalidCount} broken links.`;
            }
        }

        function createLinkSection(title) {
            const section = document.createElement('div');
            section.className = 'link-section';
            section.innerHTML = `<h3>${title}</h3>`;
            return section;
        }

        function checkLink(linkInfo) {
            return new Promise((resolve) => {
                const linkItem = document.createElement('div');
                linkItem.className = 'link-item';
                
                const linkDetails = document.createElement('div');
                linkDetails.innerHTML = `<strong>${linkInfo.description}</strong><br><small>${linkInfo.url}</small>`;
                
                const status = document.createElement('div');
                status.className = 'status';
                
                if (linkInfo.type === 'external') {
                    // For external links, we'll mark them as external without actually checking
                    // to avoid CORS issues
                    linkItem.className = 'link-item external';
                    status.className = 'status external';
                    status.textContent = 'External';
                    externalCount++;
                    checkedCount++;
                    updateProgress();
                    resolve(true);
                } else {
                    // For internal links, try to fetch them
                    fetch(linkInfo.url, { method: 'HEAD' })
                        .then(response => {
                            if (response.ok) {
                                linkItem.className = 'link-item valid';
                                status.className = 'status valid';
                                status.textContent = '✓ Valid';
                                validCount++;
                            } else {
                                linkItem.className = 'link-item invalid';
                                status.className = 'status invalid';
                                status.textContent = '✗ ' + response.status;
                                invalidCount++;
                            }
                        })
                        .catch(error => {
                            linkItem.className = 'link-item invalid';
                            status.className = 'status invalid';
                            status.textContent = '✗ Error';
                            invalidCount++;
                        })
                        .finally(() => {
                            checkedCount++;
                            updateProgress();
                            resolve(true);
                        });
                }
                
                linkItem.appendChild(linkDetails);
                linkItem.appendChild(status);
                
                return linkItem;
            });
        }

        // Organize links by category
        async function checkAllLinks() {
            const linkGrid = document.getElementById('linkGrid');
            
            // Create sections
            const internalSection = createLinkSection('Internal Pages & Resources');
            const externalSection = createLinkSection('External Resources');
            
            linkGrid.appendChild(internalSection);
            linkGrid.appendChild(externalSection);
            
            // Check links
            for (const linkInfo of linksToCheck) {
                const linkItem = await checkLink(linkInfo);
                
                if (linkInfo.type === 'external') {
                    externalSection.appendChild(linkItem);
                } else {
                    internalSection.appendChild(linkItem);
                }
                
                // Small delay to prevent overwhelming the browser
                await new Promise(resolve => setTimeout(resolve, 100));
            }
        }

        // Start checking when page loads
        window.addEventListener('load', checkAllLinks);
    </script>
</body>
</html>
